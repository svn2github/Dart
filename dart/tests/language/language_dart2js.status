# Copyright (c) 2012, the Dart project authors.  Please see the AUTHORS file
# for details. All rights reserved. Use of this source code is governed by a
# BSD-style license that can be found in the LICENSE file.

[ $compiler == dart2js || $compiler == dart2dart ]
compile_time_constant_c_test/none: Fail # Map literal with int key.
constructor_initializer_test: Fail, OK # Depends on ?parameter check.
null_test/03: Fail # Issue 12445.

black_listed_test/none: Fail # Issue 12446.

# Issues related to undeclared prefix resolution.
malformed_test/none: Fail # Issue 12695
malformed_test/05: Fail # Issue 12695
malformed_test/06: Fail # Issue 12695

full_stacktrace1_test: Pass, Fail # Issue 12698
full_stacktrace2_test: Pass, Fail # Issue 12698
full_stacktrace3_test: Pass, Fail # Issue 12698
stacktrace_test: Pass, Fail # # Issue 12698

# VM specific tests that should not be run by dart2js.
vm/*: Skip # Issue 12699

[ $compiler == dart2js && $checked ]
checked_setter2_test: Fail # Issue 11273
default_factory2_test/01: Fail # Issue 12700
type_variable_bounds_test/01: Fail # Issue 12702
type_variable_bounds_test/02: Fail # Issue 12702
type_variable_bounds_test/04: Fail # Issue 12702
type_variable_bounds_test/05: Fail # Issue 12702
type_variable_bounds2_test/00: Fail # Issue 12702
type_variable_bounds2_test/03: Fail # Issue 12702
type_variable_bounds2_test/05: Fail # Issue 12702
type_variable_bounds2_test/06: Pass # Issue 12702 (pass for the wrong reasons).
type_variable_bounds3_test/00: Fail # Issue 12702
f_bounded_quantification_test/01: Fail # Issue 12703
f_bounded_quantification_test/02: Fail # Issue 12703
f_bounded_quantification5_test: Fail # Issue 12703
closure_type_test: Fail # Issue 12745
function_subtype_setter0_test: Fail # Issue 11273
redirecting_factory_malbounded_test/01: Fail # Issue 12825

[ $compiler == dart2js && $unchecked ]
factory_redirection_test/14: Fail # Issue 10959
type_checks_in_factory_method_test: Fail # Issue 12746

assertion_test: Fail # Issue 12748

double_to_string_as_exponential2_test: Fail # Issue 12749
double_to_string_as_fixed2_test: Fail # Issue 12749
double_to_string_as_precision2_test: Fail # Issue 12749

# Only checked mode reports an error on type assignment
# problems in compile time constants.
compile_time_constant_checked_test/02: Fail, OK
compile_time_constant_checked2_test/01: Fail, OK
compile_time_constant_checked2_test/02: Fail, OK
compile_time_constant_checked2_test/03: Fail, OK
compile_time_constant_checked2_test/04: Fail, OK
compile_time_constant_checked2_test/05: Fail, OK
compile_time_constant_checked2_test/06: Fail, OK
compile_time_constant_checked3_test/01: Fail, OK
compile_time_constant_checked3_test/02: Fail, OK
compile_time_constant_checked3_test/03: Fail, OK
compile_time_constant_checked3_test/04: Fail, OK
compile_time_constant_checked3_test/05: Fail, OK
compile_time_constant_checked3_test/06: Fail, OK
generic_test: Fail, OK
named_parameters_type_test/01: Fail, OK
named_parameters_type_test/02: Fail, OK
named_parameters_type_test/03: Fail, OK
positional_parameters_type_test/01: Fail, OK
positional_parameters_type_test/02: Fail, OK

[ $compiler == dart2js && $minified ]
f_bounded_quantification4_test: Fail # Issue 12605.
f_bounded_quantification5_test: Fail # Issue 12605.

[ $compiler == dart2js ]
function_type_alias6_test/00: Crash # Issue 9792
function_type_alias9_test/00: Crash # Issue 9792
branch_canonicalization_test: Fail # Issue 638.
div_with_power_of_two_test: Fail # Issue 8301.
class_literal_test: Fail # Issue 7626.
identical_closure2_test: Fail # Issue 1533, Issue 12596
invocation_mirror_test: Fail # Issue 12705
built_in_identifier_prefix_test: Fail # Issue 6972
number_identity2_test: Fail # Issue 12596
new_expression_type_args_test/00: Fail # Issue 5519
new_expression_type_args_test/01: Fail # Issue 5519
double_int_to_string_test: Fail # Issue 1533
mint_arithmetic_test: Fail # Issue 1533
left_shift_test: Fail # Issue 1533
factory_redirection_test/01: Fail # Issue 12752
factory_redirection_test/07: Fail # Issue 12752
bad_override_test/01: Fail # Issue 11496
bad_override_test/02: Fail # Issue 11496
bad_override_test/06: Fail # Issue 11496
class_override_test/00: Fail # Issue 11496
field_override3_test/00: Fail # Issue 11496
field_override3_test/01: Fail # Issue 11496
field_override3_test/02: Fail # Issue 11496
field_override3_test/03: Fail # Issue 11496
getter_override_test/00: Fail # Issue 11496
getter_override_test/01: Fail # Issue 11496
getter_override_test/02: Fail # Issue 11496
method_override7_test/00: Fail # Issue 11496
method_override7_test/01: Fail # Issue 11496
method_override7_test/02: Fail # Issue 11496
method_override8_test/03: Fail # Issue 11496
setter_override_test/00: Fail # Issue 11496
setter_override_test/03: Fail # Issue 11496
setter_override2_test/02: Fail # Issue 11496
constructor_named_arguments_test/01: Fail # Issue 5519
getter_no_setter_test/01: Fail # Issue 5519
not_enough_positional_arguments_test/01: Fail # Issue 12838
not_enough_positional_arguments_test/02: Fail # Issue 12838
not_enough_positional_arguments_test/05: Fail # Issue 12838
dynamic_test: Fail # Issue 12398
dynamic_prefix_core_test: Fail # Issue 12398
metadata_test: Fail # Issue 5841
infinity_test: Fail # Issue 4984
positive_bit_operations_test: Fail # Issue 12795

# Compilation errors.
const_var_test: Fail # Issue 12793
map_literal3_test: Fail # Issue 12793
function_type_alias5_test/00: Fail # Issue 12754
function_type_alias5_test/01: Fail # Issue 12754
function_type_alias5_test/02: Fail # Issue 12754
function_type_alias7_test/00: Fail # Issue 12801
method_binding_test: Fail # Issue 12807
method_override_test: Fail # Issue 12808
method_override5_test: Fail # Issue 12809
parameter_initializer6_negative_test: Fail # Issue 3502
named_parameters_aggregated_test/01: Fail # Issue 12801
named_parameters_aggregated_test/03: Fail # Issue 12812
super_implicit_closure_test: Fail # Issue 12884
mixin_type_parameters_errors_test/01: Fail # Issue 12885
mixin_type_parameters_errors_test/02: Fail # Issue 12885
mixin_type_parameters_errors_test/05: Fail # Issue 12885
external_test/11: Fail # Issue 12887
external_test/12: Fail # Issue 12887
external_test/13: Fail # Issue 12887
external_test/21: Fail # Issue 12887
external_test/22: Fail # Issue 12887
external_test/23: Fail # Issue 12887
external_test/30: Fail # Issue 12887
external_test/31: Fail # Issue 12887
instanceof4_test/01: Fail # Issue 12889
list_literal4_test: Fail # Issue 12890
map_literal4_test: Fail # Issue 12891
built_in_identifier_test/01: Fail # Issue 13022

#
# The following tests are all negative tests that should be fixed.
#
const_constructor_syntax_test/04: Fail # Issue 12900
const_syntax_test/01: Fail # Issue 12932
const_syntax_test/02: Fail # Issue 12932
const_syntax_test/03: Fail # Issue 12932
const_syntax_test/04: Fail # Issue 12932
constructor9_test/01: Fail # Issue 12934
constructor_return_test/01: Fail # Issue 12937
constructor_return_test/02: Fail # Issue 12937
constructor_return_test/03: Fail # Issue 12937
constructor_return_test/04: Fail # Issue 12938
constructor_return_test/05: Fail # Issue 12938
duplicate_implements_test/01: Fail # Issue 12991
duplicate_implements_test/02: Fail # Issue 12991
duplicate_implements_test/03: Fail # Issue 12991
duplicate_implements_test/04: Fail # Issue 12991
list_literal1_test/01: Fail # Issue 12993
map_literal1_test/01: Fail # Issue 12993
number_identifier_test/01: Fail # Issue 13014
number_identifier_test/02: Fail # Issue 13014
scope_variable_test/01: Fail # Issue 13016
static_final_field_negative_test: Fail # Negative language test.
throw7_negative_test: Fail # Negative language test.

numbers_test: Fail, OK # (unintended?) VM specific test.

final_syntax_test/01: Fail # Missing error for uninitialized final field.
final_syntax_test/02: Fail # Missing error for uninitialized final field.
final_syntax_test/03: Fail # Missing error for uninitialized final field.
final_syntax_test/04: Fail # Missing error for uninitialized final field.

canonical_const2_test: Fail, OK # Dart2js only has doubles.

bit_operations_test: Fail, OK # Tests bit operations outside the 32 bit range.
# The following test will start to fail again once dart2js implements the
# runtime semantics for numbers.
# Should be: Fail, OK # Expects negative results of bit-operations.
optimization_test: Fail, OK # Expects negative results of bit-operations.

expect_test: Fail, OK # JavaScript canonicalizes all strings. This test assumes that string-concatenation returns a new string.

# Partially implemented redirecting constructors makes this throw instead
# of failing.
const_factory_negative_test: Crash, Fail

assign_top_method_test: Fail
null_test/none: Fail  # Issue 12482


[ $compiler == dart2js && $runtime == none ]
*: Fail, Pass # TODO(ahe): Triage these tests.


[ $compiler == dart2js && ($runtime == ff || $runtime == jsshell || $runtime == ie9 || $runtime == safari)]
round_test: Fail, OK # Common JavaScript engine Math.round bug.


[ $compiler == dart2js && $runtime == ie9 ]
double_to_string_as_exponential3_test: Fail # Issue 12750
double_to_string_as_fixed_test: Fail # Issue 12750
double_to_string_as_precision3_test: Fail # Issue 12750
expect_test: Fail
stack_overflow_test: Fail
stack_overflow_stacktrace_test: Fail


[ $runtime == opera ]
null_access_error_test: Fail # Issue: 7413
string_interpolate_null_test: Fail # Issue: 7413
call_through_null_getter_test: Fail
closure3_test: Fail
execute_finally3_test: Fail
method_invocation_test: Fail
stack_overflow_test: Fail
stack_overflow_stacktrace_test: Fail
closure_call_wrong_argument_count_negative_test: Skip
label_test: Skip


[ $compiler == dart2dart ]
mixin_super_constructor_named_test: Fail # Issue 12631
mixin_super_constructor_positionals_test: Fail # Issue 12631
function_type_alias6_test/00: Fail # Issue 11986
function_type_alias9_test/00: Crash # Issue 11986
symbol_literal_test: Fail # Issue 12171

built_in_identifier_prefix_test: Fail # Issue 6972
constructor_initializer_test: Fail # VM issue
factory3_test: Fail
type_checks_in_factory_method_test: Fail # Issue 12747

many_overridden_no_such_method_test: Fail, Pass, OK # Fails in minified mode, test depends on method names.
overridden_no_such_method_test: Fail, Pass, OK # Fails in minified mode, test depends on method names.

on_catch_malformed_type_test: Fail # Issue 8601

mixin_type_parameters_errors_test/01: Fail # Issue 12886
mixin_type_parameters_errors_test/02: Fail # Issue 12886
mixin_type_parameters_errors_test/05: Fail # Issue 12886

# Mixins fail on the VM.
mixin_mixin_test: Fail # Issue 9683
mixin_issue10216_2_test: Fail # Issue 9683
mixin_forwarding_constructor2_test: Fail # Issue 11888
mixin_typedef_constructor_test: Fail # Issue 11888
mixin_type_parameter2_test: Fail # Issue 11888

mixin_with_two_implicit_constructors_test: Fail # Issue 11889

# Malformed types not handled as unresolved:
import_core_prefix_test: Fail
prefix16_test: Fail
prefix22_test: Fail

# Calling unresolved class constructor:
call_nonexistent_constructor_test: Fail

bad_override_test/01: Fail # Issue 11496
bad_override_test/02: Fail # Issue 11496
bad_override_test/06: Fail # Issue 11496
class_override_test/00: Fail # Issue 11496
field_override3_test/00: Fail # Issue 11496
field_override3_test/01: Fail # Issue 11496
field_override3_test/02: Fail # Issue 11496
field_override3_test/03: Fail # Issue 11496
getter_override_test/00: Fail # Issue 11496
getter_override_test/01: Fail # Issue 11496
getter_override_test/02: Fail # Issue 11496
method_override7_test/00: Fail # Issue 11496
method_override7_test/01: Fail # Issue 11496
method_override7_test/02: Fail # Issue 11496
method_override8_test/03: Fail # Issue 11496
setter_override_test/00: Fail # Issue 11496
setter_override_test/03: Fail # Issue 11496
setter_override2_test/02: Fail # Issue 11496

compile_time_constant10_test/01: Fail # Issue 5519
compile_time_constant10_test/02: Fail # Issue 5519
compile_time_constant_arguments_test/01: Fail # Issue 5519
compile_time_constant_arguments_test/02: Fail # Issue 5519
compile_time_constant_arguments_test/03: Fail # Issue 5519
compile_time_constant_arguments_test/05: Fail # Issue 5519
compile_time_constant_arguments_test/06: Fail # Issue 5519
const_constructor_syntax_test/04: Fail # Issue 12901
const_syntax_test/01: Fail # Issue 12933
const_syntax_test/02: Fail # Issue 12933
const_syntax_test/03: Fail # Issue 12933
const_syntax_test/04: Fail # Issue 12933
const_syntax_test/05: Fail # Issue 12933
const_syntax_test/06: Fail # Issue 12933
const_syntax_test/07: Fail # Issue 12933
const_syntax_test/08: Fail # Issue 12933
const_syntax_test/10: Fail # Issue 12933
constructor9_test/01: Fail # Issue 12935
constructor_return_test/01: Fail # Issue 12938
constructor_return_test/02: Fail # Issue 12938
constructor_return_test/03: Fail # Issue 12938
constructor_return_test/04: Fail # Issue 12938
constructor_return_test/05: Fail # Issue 12938
constructor_named_arguments_test/01: Fail # Issue 5519
final_syntax_test/01: Fail # Issue 5519
final_syntax_test/02: Fail # Issue 5519
final_syntax_test/03: Fail # Issue 5519
final_syntax_test/04: Fail # Issue 5519
getter_no_setter_test/01: Fail # Issue 5519
named_parameters_aggregated_test/01: Fail # Issue 12802
named_parameters_aggregated_test/03: Fail # Issue 12813
not_enough_positional_arguments_test/01: Fail # Issue 12839
not_enough_positional_arguments_test/02: Fail # Issue 12839
not_enough_positional_arguments_test/05: Fail # Issue 12839

metadata_test: Fail # Issue 12762
const_var_test: Pass, Fail # Issue 12794
map_literal3_test: Fail # Issue 12794
external_test/11: Fail # Issue 12888
external_test/12: Fail # Issue 12888
external_test/13: Fail # Issue 12888
external_test/21: Fail # Issue 12888
external_test/22: Fail # Issue 12888
external_test/23: Fail # Issue 12888
external_test/30: Fail # Issue 12888
external_test/31: Fail # Issue 12888
built_in_identifier_test/01: Fail # Issue 13022
lazy_static3_test: Fail # Issue 12593
# dart2js frontend doesn't even analyse problematic classes.
duplicate_implements_test/01: Fail # Issue 12992
duplicate_implements_test/02: Fail # Issue 12992
duplicate_implements_test/03: Fail # Issue 12992
duplicate_implements_test/04: Fail # Issue 12992
list_literal1_test/01: Fail # Issue 12993
map_literal1_test/01: Fail # Issue 12993
method_override4_test: Fail # Issue 12810
method_override5_test: Fail # Issue 12810
static_final_field_negative_test: Fail
number_identifier_test/01: Fail # Issue 13014
number_identifier_test/02: Fail # Issue 13014
scope_variable_test/01: Fail # Issue 13016
# Common with language_dart2js.
factory_redirection_test/01: Fail # Issue 12753
factory_redirection_test/02: Crash # Issue 12753
factory_redirection_test/03: Crash # Issue 12753
factory_redirection_test/07: Fail # Issue 12753
factory_redirection_test/09: Fail # Issue 12753
factory_redirection_test/14: Fail # Issue 10959
function_type_alias5_test/00: Fail # Issue 12755
function_type_alias5_test/01: Fail # Issue 12755
function_type_alias5_test/02: Fail # Issue 12755
function_type_alias7_test/00: Fail # Issue 12802
parameter_initializer6_negative_test: Fail # Issue 3502

# DartVM problem.
constructor5_test: Fail
constructor6_test: Fail
closure_in_initializer_test: Fail
super_first_constructor_test: Fail
# Minified mode failures.
# TODO(antonm): proper support in test framework.
no_such_method_test: Pass, Fail, OK # Hard codes the name of invoked method ("foo").

new_expression_type_args_test/00: Fail # Wrongly reports compile-time error.
new_expression_type_args_test/01: Fail # Wrongly reports compile-time error.

# Only checked mode reports an error on type assignment
# problems in compile time constants.
compile_time_constant_checked_test/02: Fail, OK
compile_time_constant_checked2_test/01: Fail, OK
compile_time_constant_checked2_test/02: Fail, OK
compile_time_constant_checked2_test/03: Fail, OK
compile_time_constant_checked2_test/04: Fail, OK
compile_time_constant_checked2_test/05: Fail, OK
compile_time_constant_checked2_test/06: Fail, OK
compile_time_constant_checked3_test/01: Fail, OK
compile_time_constant_checked3_test/02: Fail, OK
compile_time_constant_checked3_test/03: Fail, OK
compile_time_constant_checked3_test/04: Fail, OK
compile_time_constant_checked3_test/05: Fail, OK
compile_time_constant_checked3_test/06: Fail, OK

final_is_not_const_test/01: Fail # Issue 12692

[ $compiler == dart2dart && $minified ]
super_getter_setter_test: Fail # Issue 11065.
f_bounded_quantification4_test: Fail # Issue 12605.
f_bounded_quantification5_test: Fail # Issue 12605.

# TODO(tball): Assign proper bug numbers.
class_literal_test: Fail

import_core_prefix_test: Pass
prefix22_test: Pass
invocation_mirror_test: Fail, OK # Issue 12706 (hardcoded names).
super_call4_test: Fail, OK # hardcoded names.

[ $minified ]
stack_trace_test: Fail, OK # Stack trace not preserved in minified code.

[ $runtime == ie9 ]
stack_trace_test: Fail, OK # Stack traces not available in IE9.
