<head>
  <link rel="import" href="observatory_element.html">
  <link rel="import" href="error_view.html">
  <link rel="import" href="isolate_list.html">
  <link rel="import" href="stack_trace.html">
</head>
<polymer-element name="message-viewer" extends="observatory-element">
  <!--
    This is a big switch statement which instantiates the custom element
    designated to display the message type.
  -->
  <template>
  	<!-- If the message type is an IsolateList -->
    <template if="{{ messageType == 'IsolateList' }}">
      <isolate-list app="{{ app }}"></isolate-list>
    </template>
    <!-- If the message type is a StackTrace -->
    <template if="{{ messageType == 'StackTrace' }}">
      <stack-trace app="{{ app }}" trace="{{ message }}"></stack-trace>
    </template>
    <!-- If the message type is a RequestError -->
    <template if="{{ messageType == 'RequestError' }}">
      <error-view app="{{ app }}" error="{{ message['error'] }}"></error-view>
    </template>
    <!-- Add new views and message types in the future here. -->
  </template>
  <script type="application/dart" src="message_viewer.dart"></script>
</polymer-element>