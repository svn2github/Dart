<head>
  <link rel="import" href="observatory_element.html">
  <link rel="import" href="field_ref.html">
  <link rel="import" href="instance_ref.html">
</head>
<polymer-element name="library-view" extends="observatory-element">
  <template>
  <div class="alert alert-success">Library {{ library['name'] }}</div>
  <div class="alert alert-info">Scripts</div>
  <table class="table table-hover">
    <tbody>
      <tr template repeat="{{ script in library['scripts']}}">
        <td>
          {{ script['kind'] }}
        </td>
        <td>
          <a href="{{ app.locationManager.currentIsolateScriptLink(script['id'], script['name']) }}">{{ script['name'] }}</a>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="alert alert-info">Imported Libraries</div>
  <table class="table table-hover">
    <tbody>
      <tr template repeat="{{ lib in library['libraries'] }}">
        <td>
          <a href="{{ app.locationManager.currentIsolateObjectLink(lib['id'])}}">
            {{ lib['url'] }}
          </a>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="alert alert-info">Variables</div>
  <table class="table table-hover">
    <tbody>
      <tr template repeat="{{ variable in library['variables'] }}">
        <td><field-ref app="{{ app }}" field="{{ variable }}"></field-ref></td>
        <td><instance-ref app="{{ app }}" instance="{{ variable['value'] }}"></instance-ref></td>
      </tr>
    </tbody>
  </table>
  <div class="alert alert-info">Functions</div>
  <table class="table table-hover">
    <tbody>
      <tr template repeat="{{ func in library['functions'] }}">
        <td>
          <a href="{{ app.locationManager.currentIsolateObjectLink(func['id'])}}">
            {{ func['user_name'] }}
          </a>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="alert alert-info">Classes</div>
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Name</th>
        <th>Internal Name</th>
      </tr>
    </thead>
    <tbody>
      <tr template repeat="{{ cls in library['classes'] }}">
        <td>
          <a href="{{ app.locationManager.currentIsolateClassLink(cls['id']) }}">
            {{ cls['user_name'] }}
          </a>
        </td>
        <td>
          <a href="{{ app.locationManager.currentIsolateClassLink(cls['id']) }}">
            {{ cls['name'] }}
          </a>
        </td>
      </tr>
    </tbody>
  </table>

  </template>
  <script type="application/dart" src="library_view.dart"></script>
</polymer-element>